<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="google-signin-client_id" content="726207426882-48j56aompe9ousjaqpq6kekhcavt9t8q.apps.googleusercontent.com">

    <title>Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>
<body>
<div class="header">
    <div class="container">
        <a class="left" href="http://localhost:8080/blog">
            <img class="me" src="https://media-exp1.licdn.com/dms/image/C5603AQH9KNis_BzaRA/profile-displayphoto-shrink_100_100/0?e=1592438400&v=beta&t=Pl9XYxwHqiPqCkYD8BKAYCNiPb-iQBMipWjrCypEf4o">
        </a>
        <div class="right">
            <a href="https://www.linkedin.com/in/eldar-ja/"><img class="social-icon" src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg"></a>
            <a href="https://github.com/eldarj"><img class="social-icon" src="https://www.keesingtechnologies.com/wp-content/uploads/2018/07/Linkedin-Icon.png"></a>
        </div>
    </div>
</div>
<div class="main-container container">
    <div class="body">
        <h1>Authenticate</h1>
        <div>
            <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark">
            </div>
            <script>
                function onSignIn(googleUser) {
                    var profile = googleUser.getBasicProfile();
                    const params = {
                        id: profile.getId(),
                        idToken: googleUser.getAuthResponse().id_token,
                        fullName: profile.getName(),
                        givenName: profile.getGivenName(),
                        familyName: profile.getFamilyName(),
                        imageUrl: profile.getImageUrl(),
                        email: profile.getEmail()
                    };
                    const queryParams = new URLSearchParams(params).toString();

                    console.log("Redirecting...");
                    window.location.replace("/_googleAuthSuccess?" + queryParams);
                }
            </script>
<!--            <div class="google-oauth-btn" data-onsuccess="onSignIn">-->
<!--                <img class="google-oauth-img" src="/resources/img/logos/google-oauth.png"/>-->
<!--            </div>-->
        </div>
    </div>
</div>
</body>
</html>
